import*as fs from"fs";import*as playerManager from"./player.js";import*as npcManager from"./npcdata.js";import{user}from"user-profile";export function firstLoad(){return saveState(playerManager.CreatePlayer(user.gender))};export function saveState(r){let e={player:r};return fs.writeFileSync("pdc-battle-save.txt",e,"json"),r};export function loadState(){let r;try{return(r=fs.readFileSync("pdc-battle-save.txt","json")).player}catch(r){return firstLoad()}};function firstLoadTrainers(){return saveTrainers(npcManager.CreateTrainersArray())}export function saveTrainers(r){let e={trainers:r};return fs.writeFileSync("pdc-battle-trainers.txt",e,"json"),r};export function loadTrainers(){let r;try{return(r=fs.readFileSync("pdc-battle-trainers.txt","json")).trainers}catch(r){return firstLoadTrainers()}};